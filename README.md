# X帖子访问记录 Chrome 扩展

一个简单的Chrome浏览器扩展，专门用于记录您浏览过的X（Twitter）帖子，自动保留最近1000条记录。

## 功能特点

- ✅ **自动记录浏览过的X帖子**：滚动即可记录，无需点击进入帖子
- ✅ **智能内容提取**：自动提取帖子标题（前20字）与完整内容
- ✅ **作者信息**：记录帖子作者昵称与 @handle，便于筛选
- ✅ **图片识别**：图片帖自动保存缩略图预览（最多4张，轻量不占空间）
- ✅ **保留最近1000条记录**：自动管理存储空间
- ✅ **去重处理**：相同帖子只更新访问时间，避免重复
- ✅ **强大搜索功能**：支持按标题、内容、作者、URL 搜索
- ✅ **内容预览**：显示帖子内容预览（前100字），方便快速浏览
- ✅ **快速打开**：点击记录即可在新标签页打开帖子
- ✅ **清空记录功能**：一键清空所有记录
- ✅ **美观的现代化界面**：简洁美观的用户界面

## 安装方法

1. 打开Chrome浏览器，进入扩展程序管理页面：
   - 方法1：在地址栏输入 `chrome://extensions/`
   - 方法2：点击右上角三点菜单 → 更多工具 → 扩展程序

2. 开启"开发者模式"（右上角开关）

3. 点击"加载已解压的扩展程序"

4. 选择本扩展的文件夹（包含manifest.json的文件夹）

5. 安装完成！

## 使用方法

1. **自动记录**：在X（Twitter）上滚动浏览时自动记录帖子，无需点击进入详情
2. **查看记录**：点击浏览器工具栏上的扩展图标，查看所有访问记录
3. **搜索帖子**：在搜索框中输入关键词，支持按标题、内容、作者、URL 搜索
4. **图片预览**：图片帖会显示缩略图，点击记录可打开原帖
5. **清空记录**：点击"清空记录"按钮，可以删除所有记录

## 工作原理

- **智能检测**：使用IntersectionObserver监听页面上的帖子元素，当帖子进入视口时自动记录
- **内容提取**：自动提取文本与作者信息，图片帖会抓取缩略图，生成标题（前20字）
- **实时更新**：使用MutationObserver监听页面动态加载的新帖子

## 注意事项

- **只记录X（Twitter）的帖子**：扩展只在 `x.com` 或 `twitter.com` 域名下工作
- **自动记录**：滚动浏览即会记录，无需点击进入
- **内容提取**：会提取文本、作者信息、图片缩略图；极少数特殊格式可能无法完全提取
- **数据存储**：所有数据存储在浏览器本地，不会上传到服务器，保护您的隐私
- **存储限制**：最多保留1000条记录，超出部分会自动删除最旧的记录

## 文件说明

- `manifest.json` - 扩展配置文件（Manifest V3）
- `background.js` - 后台脚本，接收content script的消息并存储数据
- `content.js` - 内容脚本，在X页面上运行，监听并提取帖子内容
- `popup.html` - 弹出窗口的HTML结构
- `popup.css` - 弹出窗口的样式
- `popup.js` - 弹出窗口的JavaScript逻辑，显示和搜索记录
- `icon.png` - 扩展图标（已自动生成）
- `generate_icon.py` / `create_icon_simple.py` - 图标生成脚本

## 开发说明

- **Manifest V3**：使用最新的Chrome扩展API
- **Content Script**：在X页面上注入脚本，监听帖子元素
- **IntersectionObserver**：高效监听帖子进入视口
- **MutationObserver**：监听页面动态加载的新帖子
- **Chrome Storage API**：本地存储帖子记录
- **消息传递**：Content Script与Background Script通过消息通信

